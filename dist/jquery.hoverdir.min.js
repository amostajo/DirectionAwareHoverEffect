!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";function b(b,c){this.$el=a(b),this.options=a.extend(!0,{},this.defaults,c),this.isVisible=!1,this.$hoverElem=this.$el.find(this.options.hoverElem),this.transitionProp="all "+this.options.speed+"ms "+this.options.easing,this.support=this._supportsTransitions(),this._loadEvents()}b.prototype={defaults:{speed:300,easing:"ease",hoverDelay:0,inverse:!1,hoverElem:"div"},constructor:b,_supportsTransitions:function(){if("undefined"!=typeof Modernizr)return Modernizr.csstransitions;var a=document.body||document.documentElement,b=a.style,c="transition";if("string"==typeof b[c])return!0;var d=["Moz","webkit","Webkit","Khtml","O","ms"];c=c.charAt(0).toUpperCase()+c.substr(1);for(var e=0;e<d.length;e++)if("string"==typeof b[d[e]+c])return!0;return!1},_loadEvents:function(){this.$el.on("mouseenter.hoverdir mouseleave.hoverdir",a.proxy(function(a){this.direction=this._getDir({x:a.pageX,y:a.pageY}),"mouseenter"===a.type?this._showHover():this._hideHover()},this))},_showHover:function(){var b=this._getStyle(this.direction);this.support&&this.$hoverElem.css("transition",""),this.$hoverElem.hide().css(b.from),clearTimeout(this.tmhover),this.tmhover=setTimeout(a.proxy(function(){this.$hoverElem.show(0,a.proxy(function(){this.support&&this.$hoverElem.css("transition",this.transitionProp),this._applyAnimation(b.to)},this))},this),this.options.hoverDelay),this.isVisible=!0},_hideHover:function(){var a=this._getStyle(this.direction);this.support&&this.$hoverElem.css("transition",this.transitionProp),clearTimeout(this.tmhover),this._applyAnimation(a.from),this.isVisible=!1},_getDir:function(a){var b=this.$el.width(),c=this.$el.height(),d=(a.x-this.$el.offset().left-b/2)*(b>c?c/b:1),e=(a.y-this.$el.offset().top-c/2)*(c>b?b/c:1),f=Math.round((Math.atan2(e,d)*(180/Math.PI)+180)/90+3)%4;return f},_getStyle:function(a){var b,c,d={left:"0",top:"-100%"},e={left:"0",top:"100%"},f={left:"-100%",top:"0"},g={left:"100%",top:"0"},h={top:"0"},i={left:"0"};switch(a){case 0:case"top":b=this.options.inverse?e:d,c=h;break;case 1:case"right":b=this.options.inverse?f:g,c=i;break;case 2:case"bottom":b=this.options.inverse?d:e,c=h;break;case 3:case"left":b=this.options.inverse?g:f,c=i}return{from:b,to:c}},_applyAnimation:function(b){a.fn.applyStyle=this.support?a.fn.css:a.fn.animate,this.$hoverElem.stop().applyStyle(b,a.extend(!0,[],{duration:this.options.speed}))},show:function(a){this.$el.off("mouseenter.hoverdir mouseleave.hoverdir"),this.isVisible||(this.direction=a||"top",this._showHover())},hide:function(a){this.rebuild(),this.isVisible&&(this.direction=a||"bottom",this._hideHover())},setOptions:function(b){this.options=a.extend(!0,{},this.defaults,this.options,b)},destroy:function(){this.$el.off("mouseenter.hoverdir mouseleave.hoverdir"),this.$el.data("hoverdir",null)},rebuild:function(a){"object"==typeof a&&this.setOptions(a),this._loadEvents()}},a.fn.hoverdir=function(c,d){return this.each(function(){var e=a(this).data("hoverdir"),f="object"==typeof c&&c;e||(e=new b(this,f),a(this).data("hoverdir",e)),"string"==typeof c&&(e[c](d),"destroy"===c&&a(this).data("hoverdir",!1))})},a.fn.hoverdir.Constructor=b});